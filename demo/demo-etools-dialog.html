<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../etools-dialog.html">
<link rel="import" href="../dynamic-dialog-behavior.html">

<dom-module id="demo-etools-dialog">
  <template>
    <etools-dialog size="md" opened="[[opened]]" on-close="onCloseActionHandler" dialog-title="Some title">
      Dialog content goes here... as text or html
      <h3>Some subtitle</h3>
      <p>Some paragraph</p>
    </etools-dialog>
  </template>

  <script>
    (function() {
      // jscs:disable
      'use strict';

      Polymer({
        is: 'demo-etools-dialog',

        behaviors: [etoolsBehaviors.DynamicDialogBehavior],

        properties: {
          opened: {
            value: false
          }
        },
        onCloseActionHandler: function(event) {
          console.log('onCloseActionHandler', event.detail);
        },
        ready: function() {
          var _this = this;
          setTimeout(function(){
            _this.opened = true;
          }, 1000);

          // add a dialog programmatically then open it
          var dialogContent = document.createElement('div');
          dialogContent.classList.add('confirmation-content');
          dialogContent.innerHTML = 'This is a dynamically created dialog ... yey!';
          var dialog = this.createDialog('Dynamic dialog title', 'md', 'Ok', 'Close', this._dynamicDialogCloseCallback, dialogContent);
          dialog.opened = true;
        },

        _dynamicDialogCloseCallback: function(event) {
          console.log('dynamic dialog closed', event.detail);
        }

      });

    })();
  </script>
</dom-module>
