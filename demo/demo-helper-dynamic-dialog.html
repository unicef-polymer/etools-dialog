<link rel="import" href="../../polymer/polymer-element.html">
<link rel="import" href="../dynamic-dialog-mixin.html">
<link rel="import" href="../etools-dialog.html">
<link rel="import" href="../../paper-button/paper-button.html">

<dom-module id="demo-helper-dynamic-dialog">
  <template>
    <style>
      paper-button {
        margin-bottom: 24px;
      }

      .red {
        background-color: #EE8282;
      }
    </style>
    <div>
      <paper-button class="red" raised on-tap="_openDialogWithConfirmationMsgStyle">
        Open dialog (confirmation messagestyle)
      </paper-button>
    </div>
  </template>

  <script>

      class DemoHelperDynamicDialog extends etoolsMixins.DynamicDialogMixin(Polymer.Element) {
        static get is() {
          return 'demo-helper-dynamic-dialog';
        }

        static get properties() {
          return {
            confirmationDialog: Object
          };
        }

        ready() {
          super.ready();
          // add a dialog programmatically then open it
          var dialogContent = document.createElement('div');
          dialogContent.classList.add('confirmation-content');
          dialogContent.innerHTML = 'This is a dynamically created dialog ... yey!';
          this.confirmationDialog = this.createDialog('Dynamic dialog title', 'md', 'Ok', 'Close',
              this._dynamicDialogCloseCallback, dialogContent);
        }

        _openDialogWithConfirmationMsgStyle() {
          this.confirmationDialog.opened = true;
        }

        _dynamicDialogCloseCallback(event) {
          console.log('dynamic dialog closed', event.detail);
        }

      }
      customElements.define(DemoHelperDynamicDialog.is, DemoHelperDynamicDialog);
  </script>
</dom-module>
