<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../neon-animation/animations/scale-up-animation.html">
<link rel="import" href="../neon-animation/animations/fade-out-animation.html">
<link rel="import" href="../paper-dialog/paper-dialog.html">
<link rel="import" href="../paper-dialog-scrollable/paper-dialog-scrollable.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../iron-icons/iron-icons.html">

<!--
`etools-dialog`

Simple dialog element

@demo demo/index.html
-->

<dom-module id="etools-dialog">
  <template>
    <style>
      paper-dialog {
        background-color: #fff;
        border-radius: 4px;
      }
      paper-dialog.sm {
        width: 450px;
      }
      paper-dialog.md {
        width: 720px;
      }
      paper-dialog.lg {
        width: 900px;
      }
      paper-dialog .dialog-title {
        margin: 0 0 15px 0 !important;
        border-bottom: 1px solid var(--etools-dialog-borders-color, #dedede);
        padding: 10px 24px;
        min-height: 26px;
        @apply(--etools-dialog-title);
      }
      paper-dialog-scrollable {
        display: block;
      }
      .buttons {
        margin-top: 15px;
      }
      @media screen and (max-width: 767px) {
        paper-dialog.md,
        paper-dialog.lg {
          width: calc(100vw - 30px);
        }
      }
      @media screen and (max-width: 480px) {
        paper-dialog.sm {
          width: calc(100vw - 30px);
        }
      }
      .cancelBtn {
        color: dimgray;
      }
      .xbtn {
        padding-right: 0 !important;
        align-items: flex-end !important;
        justify-content: flex-end !important;
      }
      .container {
        @apply(--layout-horizontal);
      }
      .alignLeft {
        @apply(--layout-flex);
      }
     .alignRight {
        margin: 0 0 15px 0 !important;
        border-bottom: 1px solid var(--etools-dialog-borders-color, #dedede);
      }

    </style>
    <paper-dialog class$="[[size]]"
                  opened="{{opened}}"
                  with-backdrop="[[backdrop]]"
                  modal="[[modal]]"
                  entry-animation="scale-up-animation"
                  exit-animation="fade-out-animation"
                  on-iron-overlay-closed="_dialogCloseHandling">
      <div class="container">
            <div class="alignLeft"><h2 class="dialog-title">[[dialogTitle]]</h2></div>
            <div class="alignRight"><paper-button class="xbtn" dialog-dismiss> <iron-icon icon="close"></iron-icon></paper-button></div>
      </div>
      <paper-dialog-scrollable>
        <slot></slot>
      </paper-dialog-scrollable>
      <div class="buttons">
        <paper-button class="cancelBtn" dialog-dismiss>[[cancelBtnText]]</paper-button>
        <paper-button dialog-confirm autofocus disabled="{{disableConfirmBtn}}">[[okBtnText]]</paper-button>
      </div>
    </paper-dialog>
  </template>

  <script>
    Polymer({

      is: 'etools-dialog',

      properties: {
        dialogTitle: {
          type: String,
          value: '',
        },
        okBtnText: {
          type: String,
          value: 'Ok'
        },
        cancelBtnText: {
          type: String,
          value: 'Cancel'
        },
        size: {
          type: String,
          value: 'sm'
        },
        opened: {
          type: Boolean,
          value: false,
          notify: true
        },
        backdrop: {
          type: Boolean,
          value: true
        },
        modal: {
          type: Boolean,
          value: true
        },
         disableConfirmBtn: {
          type: Boolean,
          value: false
        }
      },
      _dialogCloseHandling: function(event) {
        this.fire('close', {confirmed: event.detail.confirmed});
      },

    });
  </script>
</dom-module>
