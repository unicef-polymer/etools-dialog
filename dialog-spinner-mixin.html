<script>
  // @namespace EtoolsMixins
  window.EtoolsMixins = window.EtoolsMixins || {};
  /*
  * @polymer
  * @mixinFunction
  * @demo demo/index-spinner.html
  */
  EtoolsMixins.DialogSpinnerMixin = (baseClass) => class extends baseClass {
    static get properties() {
      return {
        keepDialogOpen: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        },
        showSpinner: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        },
        spinnerText: {
          type: String,
          value: 'Saving data..'
        }
      };
    }

    _confirmBtClicked() {
      if (this.keepDialogOpen) {
        this.dispatchEvent(new CustomEvent('confirm-btn-clicked', {bubbles: true, composed: true}));
      }
    }

    startSpinner() {
      this.set('showSpinner', true);
    }

    stopSpinner() {
      this.set('showSpinner', false);
    }
  };

</script>
